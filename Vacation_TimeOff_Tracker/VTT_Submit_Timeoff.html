<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Submit TimeOff</title>
    <link rel="stylesheet" href="VTT.css"/>
    <script type="text/javascript">
        window.onload = function() {
            // Get the variable from session storage
            const txtMaryvilleID = sessionStorage.getItem('txtMaryvilleID');
            // Display the variable value
            document.getElementById('txtMaryvilleID').textContent = txtMaryvilleID;
        };
    </script>
</head>
<body>
<h1 role="heading" aria-level="1">Submit TimeOff</h1>
<section align="left">
<p align="left">(Required fields are noted with <strong><abbr title="required">*</abbr></strong>)</p>
<form name="myAccount" method="post" >
    <h4 role="heading" aria-level="4">TimeOff Request Details:</h4>
    <p>
        <label for="txtStudentID">Student ID: </label>
        <strong><abbr title="required">*</abbr></strong>
        <input type="number" title="txtStudentID" name="txtStudentID" id="txtStudentID" value="" maxlength="7">
    </p>
    <p>
        <label for="txtTimeoffDate">Date Requested: </label> 
        <strong><abbr title="required">*</abbr></strong>
        <input type="date" title="txtTimeoffDate" name="txtTimeoffDate" id="txtTimeoffDate" value="" maxlength="20">
    </p>
    <p>
        <label for="txtFullDay">Duration: </label>
        <strong><abbr title="required">*</abbr></strong>
        <input type="radio" title="duration" name="duration" id="txtFullDay" value="fullDay">Full Day
        <label for="txtHalfDay"></label>
        <input type="radio" title="duration" name="duration" id="txtHalfDay" value="halfDay">Half Day
    </p>
    <p>
        <label for="txtReasonCd">Timeoff Reason:</label>
        <strong><abbr title="required">*</abbr></strong>
            <select name="txtReasonCd" id="txtReasonCd">
            <option value="selectType">--- Please select ---</option>
            <option value="vacation">Vacation</option>
            <option value="sick">Sick</option>
            <option value="personal">Personal</option>
            </select>
    </p>
    <p>
        <label for="comments">Comments:</label>
        <textarea id="comments" name="comments" rows="3" cols="40">
        </textarea>
    </p>
    <p>
        <button type="submit" class="button button1" onclick="verifyBals()">Submit</button>
        <input type="reset" class="button button1" name="ClearForm" id="ClearForm" value="Clear Form">
    </p>
</form>
<script type = "text/javascript">  
    function verifyBals()
    {
        var usedVacationHrs=0;
        var usedSickHrs=0;
        var usedPersonalHrs=0;
        var ddl = document.getElementById("txtReasonCd");
        var selectedValue = ddl.options[ddl.selectedIndex].value;
        if (selectedValue == "vacation") {
            if (document.getElementById("txtFullDay").checked) {
                usedVacationHrs = usedVacationHrs + 1;
                alert("Your full day vacation request exceeds your allotment. Manager approval will be required.")
              }
            else {
                usedVacationHrs = usedVacationHrs + .5;
                alert("Your half day vacation request exceeds your allotment. Manager approval will be required.")
            }
            
        } else if (selectedValue == "sick") {
            if (document.getElementById("txtFullDay").checked) {
                usedSickHrs = usedSickHrs + 1;
                alert("Your full day sick request exceeds your allotment. Manager approval will be required.")
              }
            else {
                usedSickHrs = usedSickHrs + .5;
                alert("Your half day sick request exceeds your allotment. Manager approval will be required.")
            }
            
        } else {
            if (document.getElementById("txtFullDay").checked) {
                usedPersonalHrs = usedPersonalHrs + 1;
                alert("Your full day personal request exceeds your allotment. Manager approval will be required.")
              }
            else {
                usedPersonalHrs = usedPersonalHrs + .5;
                alert("Your half day personal request exceeds your allotment. Manager approval will be required.")
            }
            
        }
    }
</script>
</body>
<hr>
  <br>
    <footer align="center">
      <td nowrap align="center">
        <a href="VTT_Home_Page.html" role="link">Home</a>&nbsp;&nbsp;&nbsp;
        <a href="VTT_Student_Account.html" role="link">Student Account</a>&nbsp;&nbsp;&nbsp;
        <a href="VTT_Manager_Account.html" role="link">Manager Account</a>&nbsp;&nbsp;&nbsp;
        <a href="VTT_Student_Trips.html" role="link">Student Trips</a>&nbsp;&nbsp;&nbsp;
        <a href="VTT_Student_Blogs.html" role="link">Student Blogs</a>&nbsp;&nbsp;&nbsp;
        <a href="VTT_Admin.html" role="link">Admin</a>
      </td>
   </footer>
   <br>
</html>