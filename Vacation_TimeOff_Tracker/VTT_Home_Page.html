<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Vacation & TimeOff Tracker</title>
    <link rel="stylesheet" href="VTT.css"/>
  </head>
  <body>
    <header>
      <h1 role="heading" aria-level="1">Vacation & TimeOff Tracker
      <img title="beach" src="beach1.png"></h1>
    </header>
    <main>
    <body align="center">
        <section align="center">
         <form name="StudentAccount" method="post" action="">
         <h4 role="heading" aria-level="4">Welcome! Please enter your Maryville University Student or Manager ID:</h4>
         <p>
         <label for="txtMaryvilleID">Maryville University ID: </label>
         <strong><abbr title="required">*</abbr></strong>
         <input type="number" required title="txtMaryvilleID" name="txtMaryvilleID" id="txtMaryvilleID" value="" maxlength="7" onkeypress="return valid_numbers(event)">
         <br>
         <br>
         <label for="txtIsManager">I am a Manager: </label>
         <input type="checkbox" title="txtIsManager" name="txtIsManager" id="txtIsManager" value="" onchange="doalert()">
        </p>
        <script type = "text/javascript">  
            function doalert()
            {
              if (txtIsManager.checked) {
                  alert ("Manager box is checked!  Please uncheck if this is not intended.");
              }
            }
            function databaseWork()
            {
              const mysql = require('mysql2');

              // Create a connection to the database
              const connection = mysql.createConnection({
                host: 'localhost',     // Replace with your host
                user: 'root',          // Replace with your username
                password: '1Master01',          // Replace with your password
                database: 'vtt'       // Replace with your database name
              });

              // Connect to the database
              connection.connect(error => {
                if (error) {
                  console.error('Error connecting to the database:', error);
                  return;
                }
                console.log('Connected to the database');
              });

              // Run a database query
              connection.query('SELECT * FROM student ', (error, results) => {
                if (error) {
                  console.error('Error executing query:', error);
                  return;
                }
                console.log('Query results:', results);
              });

              // Close the connection
                connection.end();  
            }
            function validate()
            {
              if (txtMaryvilleID.value.trim() === '') {
                alert('Maryville University ID is a required field.  Please enter.');
                return;
}
            sessionStorage.setItem('txtMaryvilleID', txtMaryvilleID.value);
            if (txtIsManager.checked)  {
                window.open("VTT_New_Registration_Manager.html")
            } else {
                window.open("VTT_New_Registration_Student.html")
            } 
           }     
        </script>
        <button id="AccessAccount" title="AccessAccount" class="button button1" onclick="validate()">Access Account</button>

        <br>
        <br>
        <br>
        <br>
    </body>
    <br>
  </main>
</html>